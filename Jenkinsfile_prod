pipeline {
    agent {
        label 'prod_server'
    }

    triggers{
        githubPush()
    }
    
    stages {
        stage('Checkout Prod Branch') {
            steps {
               echo "Taking code checkout"
            }
        }
        stage('Verify Files'){
            steps{
                sh "ls -ls /home/ec2-user/prod"
            }
        }
    }
    post{
            success{
                echo "Build succeeded !!"
                sh "echo 'Returning SUCCESS Status'"
            }
            failure{
                echo "Build Failed"
                sh "echo 'Returning FAILURE status'"
            }
            always{
                echo "This always runs, regardless of success/failure"
            }
        }
}
